<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <!-- Esta etiqueta es CRUCIAL para que se vea bien en el móvil sin zoom -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Calculadora Simple</title>
    <style>
        /* CSS: El Estilo y Diseño */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #121212; /* Fondo oscuro */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden; /* Evita scroll */
        }

        .calculadora {
            width: 100%;
            max-width: 350px; /* Tamaño máximo similar a un móvil */
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0px 10px 20px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* La pantalla de resultados */
        #pantalla {
            width: 100%;
            height: 80px;
            background-color: #2d2d2d;
            border: none;
            border-radius: 10px;
            color: #ffffff;
            font-size: 2.5rem;
            text-align: right;
            padding: 10px 20px;
            margin-bottom: 10px;
        }

        /* Grilla de botones */
        .botones {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 columnas */
            gap: 10px;
        }

        button {
            height: 60px;
            border: none;
            border-radius: 12px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
            /* Evita que se seleccione el texto al tocar rápido en móvil */
            user-select: none; 
            -webkit-tap-highlight-color: transparent;
        }

        /* Estilo botones numéricos */
        .btn-num {
            background-color: #333333;
            color: #fff;
        }
        .btn-num:active {
            background-color: #444444;
        }

        /* Estilo botones operadores */
        .btn-op {
            background-color: #ff9f0a; /* Naranja estilo iOS */
            color: #fff;
        }
        .btn-op:active {
            background-color: #e08905;
        }

        /* Botón borrar y limpiar */
        .btn-func {
            background-color: #a5a5a5;
            color: #000;
        }
        
        /* Botón igual (ocupa 2 columnas) */
        .btn-igual {
            grid-column: span 2;
            background-color: #ff9f0a;
            color: white;
        }

    </style>
</head>
<body>

    <div class="calculadora">
        <!-- Pantalla (readonly para que no salga el teclado del móvil al tocar) -->
        <input type="text" id="pantalla" readonly placeholder="0">
        
        <div class="botones">
            <!-- Fila 1 -->
            <button class="btn-func" onclick="limpiar()">AC</button>
            <button class="btn-func" onclick="borrarUno()">DEL</button>
            <button class="btn-op" onclick="agregar('%')">%</button>
            <button class="btn-op" onclick="agregar('/')">÷</button>
            
            <!-- Fila 2 -->
            <button class="btn-num" onclick="agregar('7')">7</button>
            <button class="btn-num" onclick="agregar('8')">8</button>
            <button class="btn-num" onclick="agregar('9')">9</button>
            <button class="btn-op" onclick="agregar('*')">×</button>
            
            <!-- Fila 3 -->
            <button class="btn-num" onclick="agregar('4')">4</button>
            <button class="btn-num" onclick="agregar('5')">5</button>
            <button class="btn-num" onclick="agregar('6')">6</button>
            <button class="btn-op" onclick="agregar('-')">−</button>
            
            <!-- Fila 4 -->
            <button class="btn-num" onclick="agregar('1')">1</button>
            <button class="btn-num" onclick="agregar('2')">2</button>
            <button class="btn-num" onclick="agregar('3')">3</button>
            <button class="btn-op" onclick="agregar('+')">+</button>
            
            <!-- Fila 5 -->
            <button class="btn-num" onclick="agregar('0')">0</button>
            <button class="btn-num" onclick="agregar('.')">.</button>
            <button class="btn-igual" onclick="calcular()">=</button>
        </div>
    </div>

    <script>
        // JAVASCRIPT: La Lógica

        const pantalla = document.getElementById('pantalla');

        // Función para agregar números u operadores a la pantalla
        function agregar(valor) {
            // Si la pantalla tiene error, la limpiamos primero
            if(pantalla.value === 'Error') {
                pantalla.value = '';
            }
            pantalla.value += valor;
        }

        // Función para limpiar todo (AC)
        function limpiar() {
            pantalla.value = '';
        }

        // Función para borrar el último caracter (DEL)
        function borrarUno() {
            if(pantalla.value === 'Error') {
                pantalla.value = '';
            } else {
                pantalla.value = pantalla.value.slice(0, -1);
            }
        }

        // Función principal que hace el cálculo
        function calcular() {
            try {
                // 'eval' es peligroso en webs públicas, pero seguro para una app local simple
                // Convierte el texto matemático en resultado
                if (pantalla.value === '') return;
                
                let resultado = eval(pantalla.value);
                
                // Redondear decimales largos si es necesario
                if (!Number.isInteger(resultado)) {
                    resultado = resultado.toFixed(4);
                    // Quitar ceros innecesarios al final (ej: 2.5000 -> 2.5)
                    resultado = parseFloat(resultado);
                }

                pantalla.value = resultado;
            } catch (error) {
                pantalla.value = 'Error';
            }
        }
    </script>
</body>
</html>
